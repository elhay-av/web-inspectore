!function(){"use strict";function e(){var e="body{margin-bottom:40%}#inspector{position:fixed;bottom:0;left:0;width:100%;height:40%;background:rgba(128,128,128,.8);overflow-y:auto}#inspector *{box-sizing:border-box}#inspector.in-drag .i-element.drag-hover{box-shadow:0 0 0 3px #000 inset}#inspector.in-drag .i-element.drag-hover-left{box-shadow:3px 0 0 0 #000 inset}#inspector .i-element{min-height:20px;min-width:20px;padding:10px;margin:10px;border:1px solid #000;float:left}#inspector .i-element:not(.not-draggable){cursor:grab;cursor:-webkit-grab}#inspector .i-element:not(.not-draggable):active{cursor:grabbing;cursor:-webkit-grabbing}#inspector .i-element.original-while-dragging{pointer-events:none;opacity:.3}#inspector .i-element.active-drag{pointer-events:none;position:absolute;opacity:.8}#inspector .i-text{pointer-events:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}",t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}function t(e){var t="";if(w[e])return w[e];for(var i in e)t+=e.charCodeAt(i);return w[e]?w[e]:w[e]="#"+("000000"+t.toString(16)).slice(-6)}function i(e){return E.hoverColorTpl.replace("{OPACITY}",""+(1+10*parseInt(e)))}function n(e){return e.stopPropagation(),L.inspector.addEventListener("mouseup",d),L.inspector.addEventListener("mousemove",r),x.elId=e.target.getAttribute("i-id"),x.$origEl=C[x.elId].inspect,x.$shaddowEl=x.$origEl.cloneNode(!0),x.$origEl.classList.add("original-while-dragging"),x.$shaddowEl.classList.add("active-drag"),L.inspector.appendChild(x.$shaddowEl),L.inspector.classList.add("in-drag"),o(x.$shaddowEl,e),!1}function o(e,t){e.style.top=t.y-L.inspectorPosition.top-20+"px",e.style.left=t.x-20+"px"}function r(e){x.isInDrag||(x.isInDrag=!0,l(document.getElementsByClassName("hover"))),o(x.$shaddowEl,e),x.hasChildes&&h(e)}function s(){L.inspector.removeEventListener("mouseup",d),L.inspector.removeEventListener("mousemove",r),L.inspector.classList.contains("in-drag")&&L.inspector.classList.remove("in-drag"),x.$origEl.classList.contains("original-while-dragging")&&x.$origEl.classList.remove("original-while-dragging"),x.$shaddowEl.remove(),N={},x={isInDrag:!1,$origEl:"",$shaddowEl:"",elId:"",$hoverOn:"",hasChildes:!1}}function d(e){var t;return x.$hoverOn?(t=x.$hoverOn.getAttribute("i-id"),t==x.elId?void s():(x.$hoverOn.classList.contains("drag-hover-left")?C[t].el.parentNode.insertBefore(C[x.elId].el,C[t].el):C[t].el.appendChild(C[x.elId].el),s(),void v("",document.body.parentNode,0))):void s()}function a(e){return x.isInDrag&&g(e),c(e)}function l(e){for(var t=0;t<e.length&&e.length;)C[e[t].getAttribute("i-id")].el.style.backgroundColor="",e[t].classList.remove("hover"),t++}function c(e){var t=[],n=e.target,o=n.getAttribute("i-id");return o?(n.parentNode.classList.contains("hover")?n.classList.contains("hover")||(t=n.parentNode.getElementsByClassName("hover")):t=document.getElementsByClassName("hover"),l(t),n.classList.add("hover"),C[n.getAttribute("i-id")].el.style.backgroundColor=i(n.getAttribute("i-child")),!1):!0}function g(e){var t=0,i=[];for(i=i.concat([].slice.call(document.getElementsByClassName("drag-hover"))),i=i.concat([].slice.call(document.getElementsByClassName("drag-hover-left")));t<i.length&&i.length;)i[t].classList.contains("drag-hover")&&i[t].classList.remove("drag-hover"),i[t].classList.contains("drag-hover-left")&&i[t].classList.remove("drag-hover-left"),t++;e.target.childNodes.length>1?(x.hasChildes=!0,p(e.target),h(e)):(x.hasChildes=!1,e.target.classList.add("drag-hover"),x.$hoverOn=e.target)}function h(e){for(var t=0,i=x.$shaddowEl.getBoundingClientRect().left,n=e.target.getAttribute("i-id");N[n]&&t<N[n].length;){if(0==t&&N[n][t].left>i&&e.target.childNodes[t+1].getAttribute("i-id")!=x.elId){x.$hoverOn=e.target.childNodes[t+1],x.$hoverOn.classList.add("drag-hover-left");break}if(t>0&&N[n][t].left>i&&N[n][t-1].left<i&&e.target.childNodes[t+1].getAttribute("i-id")!=x.elId){x.$hoverOn=e.target.childNodes[t+1],x.$hoverOn.classList.add("drag-hover-left");break}t++}}function p(e){var t=0,i=e.childNodes,n=e.getAttribute("i-id");if(!N[n])for(N[n]=[];t<i.length;){var o=i[t].getAttribute("i-id");o&&N[n].push(i[t].getBoundingClientRect()),t++}}function u(){L.inspector=document.createElement("div"),L.inspector.id=E.inspectorId,document.body.appendChild(L.inspector),L.inspectorPosition=L.inspector.getBoundingClientRect()}function v(e,t,i){var n=t.childNodes;for(var o in n){var r;n[o].attributes&&(E.excludedTags.indexOf(n[o].nodeName.toLowerCase())>-1||n[o].id!==E.inspectorId&&(r=n[o].getAttribute("i-id"),r||(r=n[o].nodeName+$++,n[o].setAttribute("i-id",r)),m(e,n[o],r,i),n[o].childNodes&&v(r,n[o],i+1)))}}function m(e,i,n,o){var r,s=e?C[e].inspect:L.inspector;C[n]||(C[n]={inspect:document.createElement("div"),el:i},C[n].inspect.setAttribute("i-id",n),r=document.createElement("div"),r.classList.add("i-text"),r.appendChild(document.createTextNode(i.nodeName)),e||C[n].inspect.classList.add("not-draggable"),C[n].inspect.style.backgroundColor=t(i.nodeName),C[n].inspect.classList.add("i-element"),C[n].inspect.appendChild(r)),b(C[n].inspect),C[n].inspect.setAttribute("i-child",o),s.appendChild(C[n].inspect)}function b(e){e.removeEventListener("mouseover",a),e.addEventListener("mouseover",a),e.removeEventListener("mousedown",n),e.addEventListener("mousedown",n)}function f(){e(),u(),v("",document.body.parentNode,0)}var E={inspectorId:"inspector",excludedTags:["link","style","script","head"],hoverColorTpl:"rgba(00,255,00, .{OPACITY})"},L={},C={},w={},$=0,N={},x={isInDrag:!1,$origEl:"",$shaddowEl:"",elId:"",$hoverOn:"",hasChildes:!1};window.testInspect={onHover:a},f()}();